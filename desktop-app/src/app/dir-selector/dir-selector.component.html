<mat-form-field>
  <mat-label>Model</mat-label>
  <mat-select [(value)]="selectedModel">
    <mat-option *ngFor="let model of models" [value]="model">
      {{ model }}
    </mat-option>
  </mat-select>
</mat-form-field>
<br />
<mat-form-field>
  <mat-label>Strategy</mat-label>
  <mat-select [(value)]="selectedStrategy">
    <mat-option *ngFor="let strategy of strategies" [value]="strategy">
      {{ strategy }}
    </mat-option>
  </mat-select>
</mat-form-field>
<br />
<div class="oneLine" *ngFor="let line of lines; let i = index">
  <mat-form-field>
    <mat-label>Query</mat-label>
    <input matInput [(ngModel)]="line.query" />
  </mat-form-field>
  <mat-form-field>
    <mat-label>Source</mat-label>
    <mat-select [(value)]="line.source">
      <mat-option *ngFor="let file of files" [value]="file">
        {{ file }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <button
    mat-icon-button
    aria-label="Example icon button with a vertical three dot icon"
    (click)="removeLine(i)"
    *ngIf="lines.length != 1"
  >
    <mat-icon>cancel_outline</mat-icon>
  </button>
</div>
<div id="add_fab">
  <button mat-fab extended color="primary" (click)="addLine()">
    <mat-icon>add</mat-icon>Add Query
  </button>
</div>
<br />
<div class="oneLine">
  <button mat-stroked-button (click)="openDirectory()">Select Directory</button>
  <p>{{ selectedPath }}</p>
</div>
<br />
<div class="oneLine">
  <button
    mat-raised-button
    color="primary"
    (click)="startBenchmark()"
    [disabled]="benchmarkDisabled"
  >
    Benchmark
  </button>
  <mat-spinner *ngIf="benchmarkDisabled" diameter="30"></mat-spinner>
</div>

<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
  <ng-container matColumnDef="Embedding Model">
    <th mat-header-cell *matHeaderCellDef>Embedding Model</th>
    <td mat-cell *matCellDef="let element">{{ element["Embedding Model"] }}</td>
  </ng-container>
  <ng-container matColumnDef="DB Type">
    <th mat-header-cell *matHeaderCellDef>DB Type</th>
    <td mat-cell *matCellDef="let element">{{ element["DB Type"] }}</td>
  </ng-container>
  <ng-container matColumnDef="Strategy">
    <th mat-header-cell *matHeaderCellDef>Strategy</th>
    <td mat-cell *matCellDef="let element">{{ element["Strategy"] }}</td>
  </ng-container>
  <ng-container matColumnDef="Average k">
    <th mat-header-cell *matHeaderCellDef>Average k</th>
    <td mat-cell *matCellDef="let element">{{ element["Average k"] }}</td>
  </ng-container>
  <ng-container matColumnDef="Sigma">
    <th mat-header-cell *matHeaderCellDef>Sigma</th>
    <td mat-cell *matCellDef="let element">{{ element["Sigma"] }}</td>
  </ng-container>
  <ng-container matColumnDef="Frequency">
    <th mat-header-cell *matHeaderCellDef>Frequency</th>
    <td mat-cell *matCellDef="let element">{{ element["Frequency"] }}</td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>

<!-- <h2>Selected Path: {{ selectedPath }}</h2>
<h3>Files:</h3>
<p *ngFor="let file of files">{{ file }}</p> -->
